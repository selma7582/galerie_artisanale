<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/header :: common-header"/>


<style>
    body {

        background-image: url("../images/background/background.jpg");
        background-repeat: repeat

    }
</style>
<body>

<div th:replace="common/header :: navbar"/>


<div class="container login">
    <div class="">


        <div class="container login">

            <h2 class=""><span>Inscription</span></h2>

        </div>

    </div>


    <div class="">
        <div class="">

            <!-- Nav tabs -->
            <!--<ul class="nav nav-tabs">
                <li th:classappend="${classActiveEdit}? 'active'"><a
                        href="#tab1" data-toggle="tab"><span
                        style="color: red;">Inscription</span></a>

                    &lt;!&ndash;<li th:classappend="${classActiveOrders}? 'active'"><a
                            href="#tab-2" data-toggle="tab"><span
                            style="color: red;">Commande</span></a></li>

                    <li th:classappend="${classActiveShipping}? 'active'"><a
                            href="#tab-3" data-toggle="tab"><span
                            style="color: red;">Livraison</span></a></li>
                    &ndash;&gt;
            </ul>-->

            <!-- Tab panels -->
            <div class="tab-content">

                <!-- Edit user information -->

                <div class="tab-pane fade" id="tab1" th:classappend="${classActiveEdit}? 'in active'">
                    <div class="panel-group">
                        <div class="panel panel-default" style="border: none;">
                            <div class="panel-body" style="background-color:#ededed; margin-top: 20px;">

                                <div class="alert alert-danger" th:if="${incorrectPassword}"  >
                                    <strong>Mot de passe envoyé incorrect!</strong> Veuillez réessayer.
                                </div>

                                <!--<div class="alert alert-success" th:if="${updateSuccess}">
                                    <strong>Update Success!</strong>
                                </div>-->

                                <div class="bg-info" th:if="${updateSuccess}">Profil est mis à jour.</div>

                                <form th:action="@{/updateUserInfo}" method="post">
                                    <input type="hidden" name="id_user" th:value="${user.id_user}"/><!-- id_user -->


                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <label for="firstName">Nom</label>
                                                <input type="text" class="form-control" id="firstName" name="firstName"
                                                       th:value="${user.firstName}" th:required="required"/>
                                            </div>

                                            <div class="col-xs-6">
                                                <label for="lastName">Prénom</label>
                                                <input type="text" class="form-control" id="lastName" name="lastName"
                                                       th:value="${user.lastName}" required/>
                                            </div>

                                        </div>

                                    </div>

                                    <div class="form-group">
                                        <label for="tel">Téléphone</label>
                                        <input type="tel" class="form-control" id="tel" name="tel"
                                               th:value="${user.tel}" required
                                               pattern="^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$"/>

                                    </div>
<!--

                                    <div class="form-group">
                                        <label for="currentPassword">Mot de passe envoyé </label> <input
                                            type="password" class="form-control" id="currentPassword"
                                            name="password" th:value="${currentPassword}" required/>
                                    </div>

-->

                                    <div class="form-group">
                                        <label for="email">Email</label>
                                        <input type="email" class="form-control" id="email" name="email"
                                               th:value="${user.email}" required/>

                                    </div>


                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <label for="txtNewPassword">Mot de passe</label>&nbsp;<span
                                                    id="checkPasswordMatch"></span> <input
                                                    type="password" class="form-control" id="txtNewPassword"
                                                    name="newPassword" required/>
                                            </div>
                                            <div class="col-xs-6">

                                                <label for="txtConfirmPassword">Confirmer</label> <input
                                                    type="password" class="form-control" id="txtConfirmPassword" required/>

                                            </div>
                                        </div>
                                    </div>


                                    <button id="updateUserInfoButton" type="submit" class="btn btn-primary">
                                        Enregistrer
                                    </button>

                                </form>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Order Information
                <div class="tab-pane fade" id="tab-2"
                     th:classappend="${classActiveOrders}? 'in active'">
                    <div class="panel-group">
                        <div class="panel panel-default" style="border: none;">
                            <div class="panel-body"
                                 style="background-color: #ededed; margin-top: 20px;">

                                <table class="table table-sm table-inverse">
                                    <thead>
                                    <tr>
                                        <th>Date de Commande</th>
                                        <th>Numero de Commande</th>
                                        <th>Total</th>
                                        <th>Statut</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="ordered : ${myOrderedList}">
                                        <td><a th:href="@{/orderedDetail(id=${ordered.id})}"><span
                                                th:text="${ordered.orderDate}"></span></a></td>
                                        <td th:text="${ordered.id}"></td>
                                        <td th:text="${ordered.total}"></td>
                                        <td th:text="${ordered.status}"></td>
                                    </tr>
                                    </tbody>
                                </table>

                                <div th:if="${displayOrderedDetail}">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="text-center">
                                                <h2>
                                                    Order Detail for Purchase #<span th:text="${ordered.id}"></span>
                                                </h2>
                                            </div>
                                            <hr />

                                            <div class="row">
                                                <div class="col-xs-4">
                                                    <div class="panel panel-default height">
                                                        <div class="panel-heading">
                                                            <strong>Billing Details</strong>
                                                        </div>
                                                        <div class="panel-body">
																<span
                                                                        th:text="${ordered.billingAddress.billingAddressName}"></span><br />
                                                            <span
                                                                    th:text="${ordered.billingAddress.billingAddressStreet1}+' '+${order.billingAddress.billingAddressStreet2}"></span><br />
                                                            <span
                                                                    th:text="${ordered.billingAddress.billingAddressCity}"></span><br />
                                                            <span
                                                                    th:text="${ordered.billingAddress.billingAddressState}"></span><br />
                                                            <span
                                                                    th:text="${ordered.billingAddress.billingAddressZipcode}"></span><br />
                                                        </div>
                                                    </div>
                                                </div>
                                                &lt;!&ndash;
                                                                                                <div class="col-xs-4">
                                                                                                    <div class="panel panel-default height">
                                                                                                        <div class="panel-heading">
                                                                                                            <strong>Payment Information</strong>
                                                                                                        </div>
                                                                                                        <div class="panel-body">
                                                                                                                <span th:text="${order.payment.holderName}">Card
                                                                                                                    Name</span><br /> <span th:text="${order.payment.cardNumber}">Card
                                                                                                                    Number</span><br /> <span>Exp Date:</span><span
                                                                                                                th:text="${order.payment.expiryMonth}"></span>/<span
                                                                                                                th:text="${order.payment.expiryYear}"></span><br />
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                &ndash;&gt;
                                                <div class="col-xs-4">
                                                    <div class="panel panel-default height">
                                                        <div class="panel-heading">
                                                            <strong>Billing Details</strong>
                                                        </div>
                                                        <div class="panel-body">
																<span
                                                                        th:text="${ordered.shippingAddress.shippingAddressName}"></span><br />
                                                            <span
                                                                    th:text="${ordered.shippingAddress.shippingAddressStreet1}+' '+${ordered.shippingAddress.shippingAddressStreet2}"></span><br />
                                                            <span
                                                                    th:text="${ordered.shippingAddress.shippingAddressCity}"></span><br />
                                                            <span
                                                                    th:text="${ordered.shippingAddress.shippingAddressState}"></span><br />
                                                            <span
                                                                    th:text="${ordered.shippingAddress.shippingAddressZipcode}"></span><br />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="panel-heading">
                                                <h3 class="text-center">
                                                    <strong>Info Commande</strong>
                                                </h3>
                                            </div>
                                            <div class="panel-body">
                                                <div class="table-responsive">
                                                    <table class="table table-condensed">
                                                        <thead>
                                                        <tr>
                                                            <td><strong>Nom du produit</strong></td>
                                                            <td class="text-center"><strong>Prix</strong></td>
                                                            <td class="text-center"><strong>Quantité</strong></td>
                                                            <td class="text-right"><strong>Total</strong></td>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr th:each="cartItem : ${cartItemList}">
                                                            <td data-th-text="${cartItem.product.title}"></td>
                                                            <td class="text-center"
                                                                data-th-text="${cartItem.product.price}"></td>
                                                            <td class="text-center" data-th-text="${cartItem.qty}"></td>
                                                            <td class="text-center"
                                                                data-th-text="${cartItem.subtotal}"></td>
                                                        </tr>
                                                        <tr>
                                                            <td class="highrow"></td>
                                                            <td class="highrow"></td>
                                                            <td class="highrow text-center"><strong>Total</strong></td>
                                                            <td class="highrow text-right"
                                                                data-th-text="${ordered.orderedTotal}"></td>
                                                        </tr>


                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                &lt;!&ndash; Shipping Information &ndash;&gt;
                <div class="tab-pane fade" id="tab-3"
                     th:classappend="${classActiveShipping}? 'in active'">
                    <div class="panel-group">
                        <div class="panel panel-default" style="border: none;">
                            <div class="panel-body"
                                 style="background-color: #ededed; margin-top: 20px;">

                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item active"><a
                                            th:href="@{/listOfShippingAddresses}"
                                            th:style="${listOfShippingAddresses}? 'color:red'">Adresse de livraison</a></li>
                                    <li class="breadcrumb-item active"><a
                                            th:href="@{/addNewShippingAddress}"
                                            th:style="${addNewShippingAddress}? 'color:red'">Ajouter ou Modifier</a></li>
                                </ol>

                                <div th:if="${listOfAddresses}">
                                    <form th:action="@{/setDefaultShippingAddress}" method="post">
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th>Default</th>
                                                <th>Adresse de livraison</th>
                                                <th>Operations</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr th:each="shipping : ${userShippingList}">
                                                <td><input type="radio"
                                                           name="defaultShippingAddressId"
                                                           th:value="${userShipping.id}"
                                                           th:checked="${userShipping.userShippingDefault}" /><span>default</span></td>
                                                <td
                                                        th:text="${userShipping.userShippingStreet1}+', '+
														${userShipping.userShippingCity}+', '+${userShipping.userShippingState}"></td>
                                                <td><a
                                                        th:href="@{/updateUserShipping(id=${userShipping.id})}"><i
                                                        class="fa fa-pencil"></i></a>&nbsp;&nbsp;<a
                                                        th:href="@{/removeUserShipping(id=${userShipping.id})}"><i
                                                        class="fa fa-times"></i></a></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <button class="btn btn-primary" type="submit">Enregistrer</button>
                                    </form>
                                </div>

                                <div th:if="${addNewShippingAddress}">
                                    <form th:action="@{/addNewShippingAddress}" method="post">
                                        <div class="bg-info" th:if="${updateUserShippingInfo}">User
                                            info updated.</div>

                                        <input hidden="hidden" name="id"
                                               th:value="${userShipping.id}" />

                                        &lt;!&ndash; Shipping Address &ndash;&gt;
                                        <hr />
                                        <div class="form-group">
                                            <h4>Shipping Address</h4>
                                        </div>
                                        <div class="form-group">
                                            <label for="shippingName">* Name</label> <input type="text"
                                                                                            class="form-control" id="shippingName"
                                                                                            placeholder="Receiver Name" th:name="userShippingName"
                                                                                            required="required"
                                                                                            th:value="${userShipping.userShippingName}" />
                                        </div>
                                        <div class="form-group">
                                            <label for="shippingAddress">* Street Address</label> <input
                                                type="text" class="form-control" id="shippingAddress"
                                                placeholder="Street Address 1"
                                                th:name="userShippingStreet1" required="required"
                                                th:value="${userShipping.userShippingStreet1}" /> <input
                                                type="text" class="form-control"
                                                placeholder="Street Address 2" th:name="userShppingStreet2"
                                                th:value="${userShipping.userShippingStreet2}" />
                                        </div>

                                        <div class="row">
                                            <div class="col-xs-4">
                                                <div class="form-group">
                                                    <label for="shippingCity">* City</label> <input
                                                        type="text" class="form-control" id="shippingCity"
                                                        placeholder="Shipping City" th:name="userShippingCity"
                                                        required="required"
                                                        th:value="${userShipping.userShippingCity}" />
                                                </div>
                                            </div>
                                            <div class="col-xs-4">
                                                <div class="form-group">
                                                    <label for="shippingState">* State</label> <select
                                                        id="shippingState" class="form-control"
                                                        th:name="userShippingState"
                                                        th:value="${userShipping.userShippingState}"
                                                        required="required">
                                                    <option value="" disabled="disabled">Please
                                                        select an option</option>
                                                    <option th:each="state : ${stateList}" th:text="${state}"
                                                            th:selected="(${userShipping.userShippingState}==${state})"></option>
                                                </select>
                                                </div>
                                            </div>
                                            <div class="col-xs-4">
                                                <div class="form-group">
                                                    <label for="shippingZipcode">* Zipcode</label> <input
                                                        type="text" class="form-control" id="shippingZipcode"
                                                        placeholder="Shipping Zipcode"
                                                        th:name="userShippingZipcode" required="required"
                                                        th:value="${userShipping.userShippingZipcode}" />
                                                </div>
                                            </div>
                                        </div>

                                        <hr />
                                        <button type="submit" class="btn btn-primary btn-lg">Save
                                            All</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>-->


            </div>


        </div>
    </div>
</div>

<div th:replace="common/header :: footer"/>


<div th:replace="common/header :: body-bottom-scripts"/>


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
</body>
</html>
